#include <sys/types.h>
//#include <wait.h>
#include <unistd.h>
#include <stdio.h>
#include <sys/wait.h>
int main ( int argc , char *argv[] )
{
    double delay==0;
    char str1[20] = {0};
    pid_t *pid;

    int i=0,l;
    if ( argc == 2 )
        {
            FILE* file;
            file = fopen(argv[1],"r");
            while (fscanf(file,"%s;%lf",str1,&delay) != EOF)
                {
                    *pid = fork();
                    if (*pid == 0)
                        {
                            usleep(delay);
                            execlp(str1, str1, NULL);
                            return (0);
                        }
                    pid++;
                }
            fclose(file);
            pid_t *pid0;
            while (pid0 != pid)
                {
                    waitpid(*pid0,NULL,0);
                    pid0++;
                }
            waitpid(*pid,NULL,0);
        }
    else { perror("neverny vvod"); }
}
